#!/usr/bin/env bash
# Script that prints "To infinity and beyond" every 2 seconds.
# Prints "I am invincible!!!" when receiving SIGTERM and keeps running.
# When run with --stop, sends SIGTERM to running 7-highlander processes.

# Handle --stop argument: send SIGTERM to running 7-highlander process
if [ "$1" = "--stop" ]; then
  pkill -f 7-highlander
  exit
fi

# Trap SIGTERM: respond with "I am invincible!!!" and keep running
trap 'echo "I am invincible!!!"' SIGTERM

# Main loop: print "To infinity and beyond" every 2 seconds
while true
do
  echo "To infinity and beyond"
  sleep 2
done
